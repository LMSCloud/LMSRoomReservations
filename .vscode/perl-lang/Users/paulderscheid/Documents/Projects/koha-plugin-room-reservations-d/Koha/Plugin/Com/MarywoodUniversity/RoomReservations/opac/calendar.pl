{"vars":[{"kind":2,"name":"Perl","containerName":"Modern","line":18},{"kind":2,"name":"Carp","line":20,"containerName":""},{"name":"Context","kind":2,"containerName":"C4","line":21},{"containerName":"C4","line":22,"kind":2,"name":"Output"},{"name":"Auth","kind":2,"line":23,"containerName":"C4"},{"line":24,"containerName":"Koha","name":"Email","kind":2},{"line":25,"containerName":"Mail","name":"Sendmail","kind":2},{"name":"QuotedPrint","kind":2,"line":26,"containerName":"MIME"},{"line":27,"containerName":"MIME","name":"Base64","kind":2},{"line":28,"containerName":"Koha","kind":2,"name":"Patrons"},{"name":"Category","kind":2,"line":29,"containerName":"Koha::Patron"},{"kind":2,"name":"Categories","containerName":"Koha::Patron","line":30},{"containerName":"Koha","line":31,"kind":2,"name":"DateUtils"},{"line":32,"containerName":"","name":"Cwd","kind":2},{"line":33,"containerName":"File","name":"Basename","kind":2},{"line":34,"containerName":"","name":"POSIX","kind":2},{"kind":2,"name":"CGI","line":36,"containerName":""},{"kind":2,"name":"Messages","containerName":"Locale","line":38},{"containerName":"Messages","line":39,"name":"Locale","kind":12},{"name":"select_package","kind":12,"line":39,"containerName":"main::"},{"containerName":"Locale","line":41,"kind":2,"name":"Messages"},{"kind":2,"name":"Simple","containerName":"Calendar","line":43},{"name":"@months","definition":"my","kind":13,"localvar":"my","containerName":null,"line":44},{"kind":12,"name":"gettext","line":44},{"line":44,"name":"gettext","kind":12},{"kind":12,"name":"gettext","line":44},{"line":44,"name":"gettext","kind":12},{"kind":12,"name":"gettext","line":44},{"name":"gettext","kind":12,"line":44},{"line":44,"kind":12,"name":"gettext"},{"kind":12,"name":"gettext","line":44},{"line":44,"name":"gettext","kind":12},{"line":44,"name":"gettext","kind":12},{"line":44,"name":"gettext","kind":12},{"line":44,"name":"gettext","kind":12},{"name":"$pluginDir","kind":13,"definition":"my","containerName":null,"localvar":"my","line":46},{"name":"dirname","kind":12,"line":46},{"kind":12,"name":"abs_path","line":46},{"kind":13,"definition":"my","name":"$template_name","line":48,"localvar":"my","containerName":null},{"name":"$pluginDir","kind":13,"containerName":null,"line":48},{"name":"$template2_name","definition":"my","kind":13,"line":49,"containerName":null,"localvar":"my"},{"line":49,"containerName":null,"name":"$pluginDir","kind":13},{"line":51,"localvar":"my","containerName":null,"name":"$rooms_table","definition":"my","kind":13},{"localvar":"my","containerName":null,"line":52,"name":"$bookings_table","definition":"my","kind":13},{"name":"$equipment_table","definition":"my","kind":13,"localvar":"my","containerName":null,"line":53},{"localvar":"my","containerName":null,"line":54,"name":"$roomequipment_table","kind":13,"definition":"my"},{"kind":13,"definition":"my","name":"$valid","containerName":null,"localvar":"my","line":56},{"name":"$cgi","definition":"my","kind":13,"containerName":null,"localvar":"my","line":58},{"line":58,"name":"new","kind":12},{"name":"CGI","kind":12,"line":58},{"name":"$op","definition":"my","kind":13,"line":62,"containerName":null,"localvar":"my"},{"kind":13,"name":"$cgi","containerName":null,"line":62},{"kind":12,"name":"param","containerName":"main::","line":62},{"kind":13,"definition":"my","name":"$template","containerName":null,"localvar":"my","line":64},{"line":64,"containerName":null,"name":"$borrowernumber","kind":13},{"line":64,"containerName":null,"kind":13,"name":"$cookie"},{"name":"get_template_and_user","kind":12,"line":64},{"kind":12,"name":"template_name","line":66},{"kind":13,"name":"$template_name","line":66,"containerName":null},{"name":"query","kind":12,"line":67},{"containerName":null,"line":67,"name":"$cgi","kind":13},{"name":"type","kind":12,"line":68},{"name":"authnotrequired","kind":12,"line":69},{"line":70,"kind":12,"name":"is_plugin"},{"kind":13,"name":"$template","line":74,"containerName":null},{"containerName":"main::","line":74,"kind":12,"name":"param"},{"line":75,"kind":12,"name":"language"},{"line":75,"containerName":"Languages::getlanguage","name":"C4","kind":12},{"name":"$cgi","kind":13,"containerName":null,"line":75},{"kind":12,"name":"mbf_path","line":76},{"kind":12,"name":"abs_path","line":76},{"line":79,"containerName":null,"kind":13,"name":"%op"},{"line":80,"containerName":null,"localvar":"my","definition":"my","kind":13,"name":"@mon"},{"name":"@yr","definition":"my","kind":13,"containerName":null,"localvar":"my","line":81},{"localvar":"my","containerName":null,"line":83,"kind":13,"definition":"my","name":"@month"},{"name":"calendar","kind":12,"line":83},{"kind":13,"name":"$mon","containerName":null,"line":83},{"name":"$yr","kind":13,"line":83,"containerName":null},{"line":84,"containerName":null,"localvar":"my","kind":13,"definition":"my","name":"@month_days"},{"kind":13,"name":"@month","containerName":null,"line":86},{"containerName":null,"line":87,"kind":13,"name":"@month_days"},{"name":"$_","kind":13,"containerName":null,"line":87},{"definition":"my","kind":13,"name":"$calendarBookings","line":90,"localvar":"my","containerName":null},{"line":90,"name":"getConfirmedCalendarBookingsByMonthAndYear","kind":12},{"containerName":null,"line":90,"name":"$mon","kind":13},{"kind":13,"name":"$yr","containerName":null,"line":90},{"containerName":null,"localvar":"my","line":92,"kind":13,"definition":"my","name":"$month"},{"line":92,"containerName":null,"kind":13,"name":"$mon"},{"line":94,"containerName":null,"localvar":"my","kind":13,"definition":"my","name":"$userenv"},{"containerName":"Context","line":94,"name":"C4","kind":12},{"name":"userenv","kind":12,"line":94,"containerName":"main::"},{"localvar":"my","containerName":null,"line":95,"name":"$number","kind":13,"definition":"my"},{"kind":13,"name":"%userenv","containerName":null,"line":95},{"kind":12,"name":"number","line":95},{"kind":13,"definition":"my","name":"$patron","containerName":null,"localvar":"my","line":96},{"containerName":"Patrons","line":96,"name":"Koha","kind":12},{"name":"find","kind":12,"containerName":"main::","line":96},{"kind":13,"name":"$number","containerName":null,"line":96},{"name":"$category","definition":"my","kind":13,"line":97,"containerName":null,"localvar":"my"},{"name":"$patron","kind":13,"line":97,"containerName":null},{"name":"category","kind":12,"containerName":"main::","line":97},{"name":"categorycode","kind":12,"containerName":"main::","line":97},{"name":"$isRestricted","kind":13,"definition":"my","localvar":"my","containerName":null,"line":99},{"line":99,"kind":12,"name":"checkForRestrictedCategory"},{"containerName":null,"line":99,"name":"$category","kind":13},{"name":"$restricted_message","definition":"my","kind":13,"localvar":"my","containerName":null,"line":101},{"line":101,"kind":12,"name":"getRestrictedMessage"},{"name":"%isRestricted","kind":13,"containerName":null,"line":103},{"kind":13,"name":"$template","line":104,"containerName":null},{"line":104,"containerName":"main::","name":"param","kind":12},{"name":"is_restricted","kind":12,"line":105},{"line":106,"kind":12,"name":"is_restricted_message"},{"kind":13,"name":"$restricted_message","line":106,"containerName":null},{"line":107,"kind":12,"name":"patron_category"},{"line":107,"containerName":null,"name":"%category","kind":13},{"name":"$template","kind":13,"containerName":null,"line":111},{"name":"param","kind":12,"containerName":"main::","line":111},{"name":"is_restricted","kind":12,"line":112},{"kind":12,"name":"patron_category","line":113},{"containerName":null,"line":113,"kind":13,"name":"$category"},{"name":"$template","kind":13,"containerName":null,"line":117},{"name":"param","kind":12,"containerName":"main::","line":117},{"line":118,"kind":12,"name":"current_month_cal"},{"kind":13,"name":"@month_days","containerName":null,"line":118},{"line":119,"kind":12,"name":"calendar_bookings"},{"kind":13,"name":"$calendarBookings","containerName":null,"line":119},{"line":120,"name":"active_month","kind":12},{"kind":13,"name":"@months","line":120,"containerName":null},{"kind":13,"name":"$mon","containerName":null,"line":120},{"line":121,"kind":12,"name":"active_year"},{"containerName":null,"line":121,"kind":13,"name":"$yr"},{"line":122,"name":"month_is_active","kind":12},{"name":"plugin_dir","kind":12,"line":123},{"containerName":null,"line":123,"kind":13,"name":"$pluginDir"},{"name":"op","kind":12,"line":124},{"containerName":null,"line":124,"kind":13,"name":"$op"},{"kind":13,"name":"%op","containerName":null,"line":127},{"kind":13,"definition":"my","name":"$equipment","localvar":"my","containerName":null,"line":129},{"line":129,"kind":12,"name":"loadAllEquipment"},{"containerName":null,"localvar":"my","line":131,"kind":13,"definition":"my","name":"$capacities"},{"line":131,"kind":12,"name":"loadAllMaxCapacities"},{"definition":"my","kind":13,"name":"$max_num_days","containerName":null,"localvar":"my","line":133},{"line":133,"kind":12,"name":"getFutureDays"},{"name":"$max_time","definition":"my","kind":13,"line":135,"localvar":"my","containerName":null},{"name":"getMaxTime","kind":12,"line":135},{"kind":13,"name":"%max_num_days","containerName":null,"line":137},{"kind":13,"name":"$max_num_days","containerName":null,"line":138},{"name":"%max_time","kind":13,"containerName":null,"line":141},{"containerName":null,"line":142,"kind":13,"name":"$max_time"},{"line":145,"containerName":null,"name":"$template","kind":13},{"name":"param","kind":12,"containerName":"main::","line":145},{"name":"op","kind":12,"line":146},{"containerName":null,"line":146,"kind":13,"name":"$op"},{"line":147,"kind":12,"name":"available_room_equipment"},{"containerName":null,"line":147,"kind":13,"name":"$equipment"},{"line":148,"kind":12,"name":"all_room_capacities"},{"kind":13,"name":"$capacities","containerName":null,"line":148},{"line":149,"kind":12,"name":"max_days"},{"containerName":null,"line":149,"kind":13,"name":"$max_num_days"},{"name":"max_time","kind":12,"line":150},{"line":150,"containerName":null,"name":"$max_time","kind":13},{"containerName":null,"line":153,"kind":13,"name":"%op"},{"line":155,"containerName":null,"localvar":"my","name":"$start_date","definition":"my","kind":13},{"kind":13,"name":"$cgi","line":155,"containerName":null},{"name":"param","kind":12,"line":155,"containerName":"main::"},{"kind":13,"definition":"my","name":"$start_time","containerName":null,"localvar":"my","line":156},{"line":156,"containerName":null,"name":"$cgi","kind":13},{"name":"param","kind":12,"line":156,"containerName":"main::"},{"definition":"my","kind":13,"name":"$end_date","containerName":null,"localvar":"my","line":158},{"containerName":null,"line":158,"kind":13,"name":"$cgi"},{"line":158,"containerName":"main::","kind":12,"name":"param"},{"kind":13,"definition":"my","name":"$end_time","containerName":null,"localvar":"my","line":159},{"containerName":null,"line":159,"name":"$cgi","kind":13},{"kind":12,"name":"param","containerName":"main::","line":159},{"line":161,"localvar":"my","containerName":null,"name":"$room_capacity","definition":"my","kind":13},{"kind":13,"name":"$cgi","containerName":null,"line":161},{"line":161,"containerName":"main::","name":"param","kind":12},{"containerName":null,"localvar":"my","line":163,"name":"@equipment","kind":13,"definition":"my"},{"containerName":null,"line":163,"kind":13,"name":"$cgi"},{"kind":12,"name":"param","line":163,"containerName":"main::"},{"line":165,"localvar":"my","containerName":null,"kind":13,"definition":"my","name":"$event_start"},{"name":"$start_date","kind":13,"line":165,"containerName":null},{"kind":13,"name":"$start_time","line":165,"containerName":null},{"name":"$event_end","definition":"my","kind":13,"line":166,"containerName":null,"localvar":"my"},{"kind":13,"name":"$end_date","containerName":null,"line":166},{"kind":13,"name":"$end_time","line":166,"containerName":null},{"line":169,"localvar":"my","containerName":null,"name":"$availability_format_start_date","definition":"my","kind":13},{"kind":13,"name":"$start_date","containerName":null,"line":169},{"name":"$availability_format_end_date","definition":"my","kind":13,"localvar":"my","containerName":null,"line":170},{"kind":13,"name":"$end_date","containerName":null,"line":170},{"line":173,"containerName":null,"name":"$availability_format_start_date","kind":13},{"line":173,"containerName":null,"name":"$availability_format_start_date","kind":13},{"kind":13,"name":"$availability_format_end_date","line":174,"containerName":null},{"name":"$availability_format_end_date","kind":13,"line":174,"containerName":null},{"name":"$availability_format_start","definition":"my","kind":13,"localvar":"my","containerName":null,"line":177},{"line":177,"containerName":null,"name":"$availability_format_start_date","kind":13},{"containerName":null,"line":177,"kind":13,"name":"$start_time"},{"line":178,"localvar":"my","containerName":null,"kind":13,"definition":"my","name":"$availability_format_end"},{"name":"$availability_format_end_date","kind":13,"line":178,"containerName":null},{"containerName":null,"line":178,"kind":13,"name":"$end_time"},{"kind":13,"name":"$event_start","containerName":null,"line":181},{"name":"dt_from_string","kind":12,"line":181},{"line":181,"containerName":null,"kind":13,"name":"$event_start"},{"line":182,"containerName":null,"kind":13,"name":"$event_end"},{"line":182,"name":"dt_from_string","kind":12},{"line":182,"containerName":null,"kind":13,"name":"$event_end"},{"line":184,"containerName":null,"localvar":"my","kind":13,"definition":"my","name":"$displayed_event_start"},{"line":184,"kind":12,"name":"output_pref"},{"name":"dt","kind":12,"line":184},{"kind":13,"name":"$event_start","line":184,"containerName":null},{"name":"dateformat","kind":12,"line":184},{"kind":12,"name":"timeformat","line":184},{"containerName":null,"localvar":"my","line":185,"name":"$displayed_event_end","definition":"my","kind":13},{"line":185,"name":"output_pref","kind":12},{"kind":12,"name":"dt","line":185},{"name":"$event_end","kind":13,"line":185,"containerName":null},{"line":185,"kind":12,"name":"dateformat"},{"kind":12,"name":"timeformat","line":185},{"containerName":null,"localvar":"my","line":187,"definition":"my","kind":13,"name":"$availableRooms"},{"line":187,"name":"getAvailableRooms","kind":12},{"kind":13,"name":"$availability_format_start","line":187,"containerName":null},{"containerName":null,"line":187,"kind":13,"name":"$availability_format_end"},{"line":187,"containerName":null,"kind":13,"name":"$room_capacity"},{"line":187,"containerName":null,"name":"@equipment","kind":13},{"kind":13,"definition":"my","name":"$roomsAreAvailable","line":190,"containerName":null,"localvar":"my"},{"name":"areAnyRoomsAvailable","kind":12,"line":190},{"line":190,"containerName":null,"kind":13,"name":"$availableRooms"},{"containerName":null,"line":192,"name":"$template","kind":13},{"containerName":"main::","line":192,"name":"param","kind":12},{"line":193,"kind":12,"name":"op"},{"line":193,"containerName":null,"kind":13,"name":"$op"},{"line":194,"name":"available_rooms","kind":12},{"containerName":null,"line":194,"name":"$availableRooms","kind":13},{"name":"are_rooms_available","kind":12,"line":195},{"kind":13,"name":"$roomsAreAvailable","line":195,"containerName":null},{"line":196,"kind":12,"name":"displayed_start"},{"containerName":null,"line":196,"kind":13,"name":"$displayed_event_start"},{"kind":12,"name":"displayed_end","line":197},{"containerName":null,"line":197,"kind":13,"name":"$displayed_event_end"},{"line":198,"kind":12,"name":"event_start_time"},{"line":198,"containerName":null,"kind":13,"name":"$event_start"},{"line":199,"name":"event_end_time","kind":12},{"kind":13,"name":"$event_end","containerName":null,"line":199},{"kind":12,"name":"start_date","line":200},{"containerName":null,"line":200,"name":"$availability_format_start_date","kind":13},{"containerName":null,"line":203,"kind":13,"name":"%op"},{"name":"$selected_id","definition":"my","kind":13,"line":205,"containerName":null,"localvar":"my"},{"containerName":null,"line":205,"kind":13,"name":"$cgi"},{"line":205,"containerName":"main::","name":"param","kind":12},{"name":"$displayed_start","definition":"my","kind":13,"line":206,"containerName":null,"localvar":"my"},{"containerName":null,"line":206,"name":"$cgi","kind":13},{"line":206,"containerName":"main::","name":"param","kind":12},{"localvar":"my","containerName":null,"line":207,"kind":13,"definition":"my","name":"$displayed_end"},{"name":"$cgi","kind":13,"line":207,"containerName":null},{"kind":12,"name":"param","containerName":"main::","line":207},{"kind":13,"definition":"my","name":"$event_start","line":208,"containerName":null,"localvar":"my"},{"line":208,"containerName":null,"kind":13,"name":"$cgi"},{"kind":12,"name":"param","line":208,"containerName":"main::"},{"definition":"my","kind":13,"name":"$event_end","line":209,"localvar":"my","containerName":null},{"containerName":null,"line":209,"kind":13,"name":"$cgi"},{"kind":12,"name":"param","containerName":"main::","line":209},{"containerName":null,"localvar":"my","line":211,"name":"$start_date","kind":13,"definition":"my"},{"kind":13,"name":"$cgi","line":211,"containerName":null},{"containerName":"main::","line":211,"kind":12,"name":"param"},{"name":"$displayed_event_time","kind":13,"definition":"my","containerName":null,"localvar":"my","line":213},{"line":215,"localvar":"my","containerName":null,"name":"$user_fn","kind":13,"definition":"my"},{"name":"C4","kind":12,"line":215,"containerName":"Context"},{"containerName":"main::","line":215,"name":"userenv","kind":12},{"name":"$user_ln","kind":13,"definition":"my","containerName":null,"localvar":"my","line":216},{"name":"C4","kind":12,"line":216,"containerName":"Context"},{"kind":12,"name":"userenv","containerName":"main::","line":216},{"name":"$user_bn","definition":"my","kind":13,"line":217,"containerName":null,"localvar":"my"},{"name":"C4","kind":12,"containerName":"Context","line":217},{"kind":12,"name":"userenv","containerName":"main::","line":217},{"name":"$user","kind":13,"definition":"my","line":219,"localvar":"my","containerName":null},{"name":"$email","definition":"my","kind":13,"line":220,"localvar":"my","containerName":null},{"kind":12,"name":"C4","line":220,"containerName":"Context"},{"kind":12,"name":"userenv","line":220,"containerName":"main::"},{"localvar":"my","containerName":null,"line":222,"name":"$selectedRoomNumber","kind":13,"definition":"my"},{"name":"getRoomNumberById","kind":12,"line":222},{"line":222,"containerName":null,"name":"$selected_id","kind":13},{"line":224,"containerName":null,"localvar":"my","name":"$count_limit","kind":13,"definition":"my"},{"kind":12,"name":"getDailyReservationLimit","line":224},{"name":"$current_user_daily_limit","definition":"my","kind":13,"line":226,"containerName":null,"localvar":"my"},{"line":226,"kind":12,"name":"getUserDailyResLimit"},{"line":226,"containerName":null,"name":"$user_bn","kind":13},{"containerName":null,"line":226,"kind":13,"name":"$start_date"},{"kind":13,"name":"$template","containerName":null,"line":228},{"containerName":"main::","line":228,"kind":12,"name":"param"},{"name":"op","kind":12,"line":229},{"line":229,"containerName":null,"name":"$op","kind":13},{"name":"current_user","kind":12,"line":230},{"line":230,"containerName":null,"name":"$user","kind":13},{"line":231,"name":"current_user_fn","kind":12},{"line":231,"containerName":null,"kind":13,"name":"$user_fn"},{"line":232,"kind":12,"name":"current_user_ln"},{"containerName":null,"line":232,"name":"$user_ln","kind":13},{"line":233,"kind":12,"name":"current_user_email"},{"kind":13,"name":"$email","line":233,"containerName":null},{"line":234,"kind":12,"name":"selected_room_id"},{"line":234,"containerName":null,"name":"$selected_id","kind":13},{"name":"selected_room_no","kind":12,"line":235},{"kind":13,"name":"$selectedRoomNumber","containerName":null,"line":235},{"name":"displayed_time","kind":12,"line":236},{"line":236,"containerName":null,"name":"$displayed_event_time","kind":13},{"line":237,"name":"selected_start_time","kind":12},{"line":237,"containerName":null,"name":"$event_start","kind":13},{"line":238,"kind":12,"name":"selected_end_time"},{"kind":13,"name":"$event_end","containerName":null,"line":238},{"kind":12,"name":"displayed_start","line":239},{"name":"$displayed_start","kind":13,"line":239,"containerName":null},{"name":"displayed_end","kind":12,"line":240},{"line":240,"containerName":null,"name":"$displayed_end","kind":13},{"line":241,"kind":12,"name":"count_limit"},{"name":"$count_limit","kind":13,"line":241,"containerName":null},{"line":242,"name":"user_daily_limit","kind":12},{"kind":13,"name":"$current_user_daily_limit","line":242,"containerName":null},{"containerName":null,"line":245,"name":"%op","kind":13},{"definition":"my","kind":13,"name":"$borrowernumber","localvar":"my","containerName":null,"line":247},{"line":247,"containerName":"Context","kind":12,"name":"C4"},{"line":247,"containerName":"main::","name":"userenv","kind":12},{"definition":"my","kind":13,"name":"$roomid","containerName":null,"localvar":"my","line":248},{"name":"$cgi","kind":13,"containerName":null,"line":248},{"line":248,"containerName":"main::","kind":12,"name":"param"},{"kind":13,"definition":"my","name":"$start","line":249,"containerName":null,"localvar":"my"},{"containerName":null,"line":249,"name":"$cgi","kind":13},{"line":249,"containerName":"main::","kind":12,"name":"param"},{"name":"$end","definition":"my","kind":13,"line":250,"containerName":null,"localvar":"my"},{"kind":13,"name":"$cgi","containerName":null,"line":250},{"containerName":"main::","line":250,"name":"param","kind":12},{"kind":13,"definition":"my","name":"$sendCopy","containerName":null,"localvar":"my","line":251},{"line":251,"containerName":null,"kind":13,"name":"$cgi"},{"line":251,"containerName":"main::","name":"param","kind":12},{"line":252,"localvar":"my","containerName":null,"name":"$submitButton","definition":"my","kind":13},{"kind":13,"name":"$cgi","line":252,"containerName":null},{"line":252,"containerName":"main::","kind":12,"name":"param"},{"line":253,"containerName":null,"localvar":"my","name":"$user","kind":13,"definition":"my"},{"name":"$cgi","kind":13,"containerName":null,"line":253},{"name":"param","kind":12,"line":253,"containerName":"main::"},{"localvar":"my","containerName":null,"line":254,"kind":13,"definition":"my","name":"$roomnumber"},{"line":254,"containerName":null,"name":"$cgi","kind":13},{"containerName":"main::","line":254,"name":"param","kind":12},{"name":"$displayed_start","definition":"my","kind":13,"containerName":null,"localvar":"my","line":255},{"line":255,"containerName":null,"kind":13,"name":"$cgi"},{"line":255,"containerName":"main::","kind":12,"name":"param"},{"definition":"my","kind":13,"name":"$displayed_end","localvar":"my","containerName":null,"line":256},{"kind":13,"name":"$cgi","containerName":null,"line":256},{"containerName":"main::","line":256,"name":"param","kind":12},{"name":"$patronEmail","definition":"my","kind":13,"line":257,"localvar":"my","containerName":null},{"kind":13,"name":"$cgi","line":257,"containerName":null},{"name":"param","kind":12,"containerName":"main::","line":257},{"line":259,"containerName":null,"kind":13,"name":"%submitButton"},{"line":261,"containerName":null,"kind":13,"name":"%op"},{"line":265,"containerName":null,"kind":13,"name":"$valid"},{"line":265,"name":"preBookingAvailabilityCheck","kind":12},{"line":265,"containerName":null,"name":"$roomid","kind":13},{"containerName":null,"line":265,"kind":13,"name":"$start"},{"name":"$end","kind":13,"line":265,"containerName":null},{"kind":13,"name":"%valid","containerName":null,"line":267},{"line":268,"kind":12,"name":"addBooking"},{"name":"$borrowernumber","kind":13,"line":268,"containerName":null},{"line":268,"containerName":null,"kind":13,"name":"$roomid"},{"kind":13,"name":"$start","containerName":null,"line":268},{"containerName":null,"line":268,"name":"%end","kind":13},{"name":"$template","kind":13,"containerName":null,"line":271},{"line":271,"containerName":"main::","name":"param","kind":12},{"name":"invalid_booking","kind":12,"line":272},{"line":277,"containerName":null,"name":"$sendCopy","kind":13},{"line":277,"containerName":null,"kind":13,"name":"%valid"},{"localvar":"my","containerName":null,"line":278,"name":"$timestamp","definition":"my","kind":13},{"kind":12,"name":"getCurrentTimestamp","line":278},{"localvar":"my","containerName":null,"line":280,"name":"$patron","kind":13,"definition":"my"},{"containerName":"Patrons","line":280,"kind":12,"name":"Koha"},{"name":"find","kind":12,"line":280,"containerName":"main::"},{"line":280,"containerName":null,"name":"$borrowernumber","kind":13},{"line":282,"containerName":null,"localvar":"my","kind":13,"definition":"my","name":"$letter"},{"kind":12,"name":"C4","line":282,"containerName":"Letters::GetPreparedLetter"},{"line":283,"kind":12,"name":"module"},{"line":284,"kind":12,"name":"letter_code"},{"line":285,"name":"lang","kind":12},{"containerName":null,"line":285,"name":"$patron","kind":13},{"name":"lang","kind":12,"line":285,"containerName":"main::"},{"name":"message_transport_type","kind":12,"line":286},{"kind":12,"name":"substitute","line":287},{"line":288,"name":"user","kind":12},{"containerName":null,"line":288,"kind":13,"name":"$user"},{"line":289,"name":"room","kind":12},{"name":"$roomnumber","kind":13,"containerName":null,"line":289},{"kind":12,"name":"from","line":290},{"name":"$displayed_start","kind":13,"containerName":null,"line":290},{"name":"to","kind":12,"line":291},{"kind":13,"name":"$displayed_end","line":291,"containerName":null},{"line":292,"kind":12,"name":"confirmed_timestamp"},{"containerName":null,"line":292,"kind":13,"name":"$timestamp"},{"kind":12,"name":"C4","containerName":"Letters::EnqueueLetter","line":296},{"line":298,"kind":12,"name":"letter"},{"name":"$letter","kind":13,"containerName":null,"line":298},{"line":299,"name":"borrowernumber","kind":12},{"kind":13,"name":"$borrowernumber","line":299,"containerName":null},{"name":"message_transport_type","kind":12,"line":300},{"name":"$template","kind":13,"containerName":null,"line":305},{"line":305,"containerName":"main::","kind":12,"name":"param"},{"line":306,"name":"op","kind":12},{"kind":13,"name":"$op","line":306,"containerName":null},{"range":{"start":{"line":310,"character":0},"end":{"line":338,"character":9999}},"signature":{"label":"checkForRestrictedCategory($category)","documentation":"","parameters":[{"label":"$category"}]},"containerName":"main::","children":[{"name":"$category","kind":13,"definition":"my","line":312,"containerName":"checkForRestrictedCategory","localvar":"my"},{"name":"$dbh","kind":13,"definition":"my","localvar":"my","containerName":"checkForRestrictedCategory","line":314},{"containerName":"checkForRestrictedCategory","line":314,"name":"dbh","kind":12},{"kind":13,"definition":"my","name":"$sth","line":316,"containerName":"checkForRestrictedCategory","localvar":"my"},{"name":"$query","definition":"my","kind":13,"localvar":"my","containerName":"checkForRestrictedCategory","line":318},{"name":"$sth","kind":13,"containerName":"checkForRestrictedCategory","line":327},{"line":327,"containerName":"checkForRestrictedCategory","name":"$dbh","kind":13},{"kind":12,"name":"prepare","containerName":"checkForRestrictedCategory","line":327},{"name":"$query","kind":13,"containerName":"checkForRestrictedCategory","line":327},{"name":"$sth","kind":13,"line":328,"containerName":"checkForRestrictedCategory"},{"line":328,"containerName":"checkForRestrictedCategory","kind":12,"name":"execute"},{"kind":13,"name":"$category","line":328,"containerName":"checkForRestrictedCategory"},{"line":330,"containerName":"checkForRestrictedCategory","localvar":"my","name":"$rows","kind":13,"definition":"my"},{"name":"$sth","kind":13,"containerName":"checkForRestrictedCategory","line":330},{"name":"fetchrow_arrayref","kind":12,"containerName":"checkForRestrictedCategory","line":330},{"kind":13,"name":"$rows","containerName":"checkForRestrictedCategory","line":332}],"detail":"($category)","line":310,"name":"checkForRestrictedCategory","kind":12,"definition":"sub"},{"line":314,"containerName":"Context","kind":12,"name":"C4"},{"kind":12,"definition":"sub","name":"getRestrictedMessage","line":340,"children":[{"name":"$dbh","kind":13,"definition":"my","containerName":"getRestrictedMessage","localvar":"my","line":342},{"line":342,"containerName":"getRestrictedMessage","name":"dbh","kind":12},{"line":343,"containerName":"getRestrictedMessage","localvar":"my","name":"$sql","definition":"my","kind":13},{"kind":13,"definition":"my","name":"$sth","localvar":"my","containerName":"getRestrictedMessage","line":344},{"containerName":"getRestrictedMessage","line":344,"kind":13,"name":"$dbh"},{"kind":12,"name":"prepare","containerName":"getRestrictedMessage","line":344},{"name":"$sql","kind":13,"containerName":"getRestrictedMessage","line":344},{"kind":13,"name":"$sth","line":345,"containerName":"getRestrictedMessage"},{"line":345,"containerName":"getRestrictedMessage","kind":12,"name":"execute"},{"definition":"my","kind":13,"name":"$row","localvar":"my","containerName":"getRestrictedMessage","line":346},{"kind":13,"name":"$sth","containerName":"getRestrictedMessage","line":346},{"containerName":"getRestrictedMessage","line":346,"kind":12,"name":"fetchrow_hashref"},{"kind":13,"name":"$row","line":348,"containerName":"getRestrictedMessage"}],"containerName":"main::","range":{"end":{"line":349,"character":9999},"start":{"character":0,"line":340}}},{"name":"C4","kind":12,"line":342,"containerName":"Context"},{"kind":12,"definition":"sub","name":"getFutureDays","line":351,"containerName":"main::","children":[{"name":"$dbh","definition":"my","kind":13,"containerName":"getFutureDays","localvar":"my","line":353},{"line":353,"containerName":"getFutureDays","kind":12,"name":"dbh"},{"definition":"my","kind":13,"name":"$sql","line":354,"localvar":"my","containerName":"getFutureDays"},{"name":"$sth","kind":13,"definition":"my","line":355,"containerName":"getFutureDays","localvar":"my"},{"kind":13,"name":"$dbh","containerName":"getFutureDays","line":355},{"line":355,"containerName":"getFutureDays","kind":12,"name":"prepare"},{"name":"$sql","kind":13,"line":355,"containerName":"getFutureDays"},{"name":"$sth","kind":13,"line":356,"containerName":"getFutureDays"},{"name":"execute","kind":12,"line":356,"containerName":"getFutureDays"},{"containerName":"getFutureDays","localvar":"my","line":357,"definition":"my","kind":13,"name":"$row"},{"kind":13,"name":"$sth","line":357,"containerName":"getFutureDays"},{"kind":12,"name":"fetchrow_hashref","line":357,"containerName":"getFutureDays"},{"line":359,"containerName":"getFutureDays","name":"$row","kind":13}],"range":{"end":{"line":360,"character":9999},"start":{"character":0,"line":351}}},{"name":"C4","kind":12,"containerName":"Context","line":353},{"containerName":"main::","children":[{"line":364,"containerName":"getMaxTime","localvar":"my","name":"$dbh","kind":13,"definition":"my"},{"kind":12,"name":"dbh","containerName":"getMaxTime","line":364},{"localvar":"my","containerName":"getMaxTime","line":365,"definition":"my","kind":13,"name":"$sql"},{"name":"$sth","definition":"my","kind":13,"localvar":"my","containerName":"getMaxTime","line":366},{"kind":13,"name":"$dbh","line":366,"containerName":"getMaxTime"},{"line":366,"containerName":"getMaxTime","kind":12,"name":"prepare"},{"kind":13,"name":"$sql","line":366,"containerName":"getMaxTime"},{"kind":13,"name":"$sth","line":367,"containerName":"getMaxTime"},{"containerName":"getMaxTime","line":367,"kind":12,"name":"execute"},{"line":368,"localvar":"my","containerName":"getMaxTime","kind":13,"definition":"my","name":"$row"},{"kind":13,"name":"$sth","containerName":"getMaxTime","line":368},{"name":"fetchrow_hashref","kind":12,"containerName":"getMaxTime","line":368},{"name":"$row","kind":13,"line":370,"containerName":"getMaxTime"}],"line":362,"range":{"start":{"character":0,"line":362},"end":{"character":9999,"line":371}},"definition":"sub","kind":12,"name":"getMaxTime"},{"kind":12,"name":"C4","containerName":"Context","line":364},{"containerName":"main::","children":[{"localvar":"my","containerName":"getDailyReservationLimit","line":375,"kind":13,"definition":"my","name":"$dbh"},{"containerName":"getDailyReservationLimit","line":375,"name":"dbh","kind":12},{"kind":13,"definition":"my","name":"$sql","line":376,"containerName":"getDailyReservationLimit","localvar":"my"},{"name":"$sth","kind":13,"definition":"my","localvar":"my","containerName":"getDailyReservationLimit","line":377},{"name":"$dbh","kind":13,"line":377,"containerName":"getDailyReservationLimit"},{"containerName":"getDailyReservationLimit","line":377,"kind":12,"name":"prepare"},{"name":"$sql","kind":13,"containerName":"getDailyReservationLimit","line":377},{"containerName":"getDailyReservationLimit","line":378,"name":"$sth","kind":13},{"name":"execute","kind":12,"line":378,"containerName":"getDailyReservationLimit"},{"line":379,"containerName":"getDailyReservationLimit","localvar":"my","kind":13,"definition":"my","name":"$row"},{"containerName":"getDailyReservationLimit","line":379,"kind":13,"name":"$sth"},{"line":379,"containerName":"getDailyReservationLimit","name":"fetchrow_hashref","kind":12},{"line":381,"containerName":"getDailyReservationLimit","kind":13,"name":"$row"}],"line":373,"range":{"end":{"line":382,"character":9999},"start":{"line":373,"character":0}},"definition":"sub","kind":12,"name":"getDailyReservationLimit"},{"containerName":"Context","line":375,"name":"C4","kind":12},{"line":384,"detail":"($bn,$date)","kind":12,"definition":"sub","name":"getUserDailyResLimit","children":[{"name":"$bn","definition":"my","kind":13,"containerName":"getUserDailyResLimit","localvar":"my","line":386},{"line":386,"containerName":"getUserDailyResLimit","kind":13,"name":"$date"},{"name":"$date","kind":13,"line":388,"containerName":"getUserDailyResLimit"},{"kind":13,"definition":"my","name":"$dbh","containerName":"getUserDailyResLimit","localvar":"my","line":390},{"containerName":"getUserDailyResLimit","line":390,"kind":12,"name":"dbh"},{"line":391,"localvar":"my","containerName":"getUserDailyResLimit","name":"$sql","definition":"my","kind":13},{"containerName":"getUserDailyResLimit","localvar":"my","line":392,"kind":13,"definition":"my","name":"$sth"},{"containerName":"getUserDailyResLimit","line":392,"name":"$dbh","kind":13},{"containerName":"getUserDailyResLimit","line":392,"name":"prepare","kind":12},{"line":392,"containerName":"getUserDailyResLimit","kind":13,"name":"$sql"},{"name":"$sth","kind":13,"containerName":"getUserDailyResLimit","line":393},{"line":393,"containerName":"getUserDailyResLimit","kind":12,"name":"execute"},{"containerName":"getUserDailyResLimit","line":393,"name":"$bn","kind":13},{"name":"$date","kind":13,"line":393,"containerName":"getUserDailyResLimit"},{"kind":13,"definition":"my","name":"$row","containerName":"getUserDailyResLimit","localvar":"my","line":394},{"line":394,"containerName":"getUserDailyResLimit","name":"$sth","kind":13},{"kind":12,"name":"fetchrow_hashref","containerName":"getUserDailyResLimit","line":394},{"containerName":"getUserDailyResLimit","line":396,"kind":13,"name":"$row"}],"containerName":"main::","signature":{"parameters":[{"label":"$bn"},{"label":"$date"}],"documentation":"","label":"getUserDailyResLimit($bn,$date)"},"range":{"end":{"line":397,"character":9999},"start":{"character":0,"line":384}}},{"containerName":"Context","line":390,"name":"C4","kind":12},{"range":{"start":{"character":0,"line":399},"end":{"character":9999,"line":411}},"signature":{"parameters":[{"label":"$rooms"}],"documentation":"","label":"areAnyRoomsAvailable($rooms)"},"containerName":"main::","children":[{"name":"$rooms","definition":"my","kind":13,"containerName":"areAnyRoomsAvailable","localvar":"my","line":401},{"line":403,"containerName":"areAnyRoomsAvailable","kind":13,"name":"$rooms"}],"detail":"($rooms)","line":399,"name":"areAnyRoomsAvailable","definition":"sub","kind":12},{"containerName":"main::","children":[{"line":415,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","name":"$month","definition":"my","kind":13},{"line":415,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","name":"$year","kind":13},{"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":418,"name":"$month","kind":13},{"name":"$month","kind":13,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":418},{"definition":"my","kind":13,"name":"$dbh","containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","line":421},{"name":"dbh","kind":12,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":421},{"containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","line":424,"name":"$sth","kind":13,"definition":"my"},{"containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","line":428,"definition":"my","kind":13,"name":"$query"},{"name":"$sth","kind":13,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":438},{"line":438,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","kind":13,"name":"$dbh"},{"line":438,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","name":"prepare","kind":12},{"name":"$query","kind":13,"line":438,"containerName":"getConfirmedCalendarBookingsByMonthAndYear"},{"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":439,"kind":13,"name":"$sth"},{"name":"execute","kind":12,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":439},{"line":441,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","kind":13,"definition":"my","name":"@calendarBookings"},{"line":443,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","localvar":"my","name":"$row","kind":13,"definition":"my"},{"line":443,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","kind":13,"name":"$sth"},{"name":"fetchrow_hashref","kind":12,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":443},{"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":444,"kind":13,"name":"@calendarBookings"},{"line":444,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","kind":13,"name":"$row"},{"name":"@calendarBookings","kind":13,"containerName":"getConfirmedCalendarBookingsByMonthAndYear","line":447}],"range":{"end":{"character":9999,"line":448},"start":{"character":0,"line":413}},"signature":{"documentation":"","parameters":[{"label":"$month"},{"label":"$year"}],"label":"getConfirmedCalendarBookingsByMonthAndYear($month,$year)"},"detail":"($month,$year)","line":413,"kind":12,"definition":"sub","name":"getConfirmedCalendarBookingsByMonthAndYear"},{"kind":12,"name":"C4","line":421,"containerName":"Context"},{"containerName":"main::","children":[{"kind":13,"definition":"my","name":"$roomid","line":451,"localvar":"my","containerName":"preBookingAvailabilityCheck"},{"kind":13,"name":"$start","containerName":"preBookingAvailabilityCheck","line":451},{"containerName":"preBookingAvailabilityCheck","line":451,"kind":13,"name":"$end"},{"containerName":"preBookingAvailabilityCheck","localvar":"my","line":453,"name":"$dbh","kind":13,"definition":"my"},{"containerName":"preBookingAvailabilityCheck","line":453,"name":"dbh","kind":12},{"name":"$sth","kind":13,"definition":"my","localvar":"my","containerName":"preBookingAvailabilityCheck","line":456},{"containerName":"preBookingAvailabilityCheck","localvar":"my","line":458,"name":"$query","definition":"my","kind":13},{"containerName":"preBookingAvailabilityCheck","line":466,"name":"$sth","kind":13},{"name":"$dbh","kind":13,"containerName":"preBookingAvailabilityCheck","line":466},{"containerName":"preBookingAvailabilityCheck","line":466,"kind":12,"name":"prepare"},{"kind":13,"name":"$query","line":466,"containerName":"preBookingAvailabilityCheck"},{"containerName":"preBookingAvailabilityCheck","line":467,"name":"$sth","kind":13},{"name":"execute","kind":12,"containerName":"preBookingAvailabilityCheck","line":467},{"containerName":"preBookingAvailabilityCheck","localvar":"my","line":469,"definition":"my","kind":13,"name":"$count"},{"containerName":"preBookingAvailabilityCheck","line":469,"name":"$sth","kind":13},{"kind":12,"name":"fetchrow_array","containerName":"preBookingAvailabilityCheck","line":469},{"name":"$count","kind":13,"line":471,"containerName":"preBookingAvailabilityCheck"}],"signature":{"label":"preBookingAvailabilityCheck($roomid,$start,$end)","parameters":[{"label":"$roomid"},{"label":"$start"},{"label":"$end"}],"documentation":""},"range":{"end":{"character":9999,"line":477},"start":{"line":450,"character":0}},"line":450,"detail":"($roomid,$start,$end)","definition":"sub","kind":12,"name":"preBookingAvailabilityCheck"},{"line":453,"containerName":"Context","kind":12,"name":"C4"},{"name":"addBooking","definition":"sub","kind":12,"detail":"($borrowernumber,$roomid,$start,$end)","line":479,"range":{"start":{"line":479,"character":0},"end":{"character":9999,"line":488}},"signature":{"label":"addBooking($borrowernumber,$roomid,$start,$end)","documentation":"","parameters":[{"label":"$borrowernumber"},{"label":"$roomid"},{"label":"$start"},{"label":"$end"}]},"children":[{"line":481,"containerName":"addBooking","localvar":"my","name":"$borrowernumber","kind":13,"definition":"my"},{"line":481,"containerName":"addBooking","kind":13,"name":"$roomid"},{"kind":13,"name":"$start","containerName":"addBooking","line":481},{"containerName":"addBooking","line":481,"kind":13,"name":"$end"},{"definition":"my","kind":13,"name":"$dbh","line":483,"localvar":"my","containerName":"addBooking"},{"kind":12,"name":"dbh","containerName":"addBooking","line":483},{"containerName":"addBooking","line":485,"kind":13,"name":"$dbh"},{"kind":12,"name":"do","line":485,"containerName":"addBooking"},{"name":"$start","kind":13,"line":487,"containerName":"addBooking"},{"containerName":"addBooking","line":487,"name":"$end","kind":13}],"containerName":"main::"},{"line":483,"containerName":"Context","kind":12,"name":"C4"},{"detail":"($roomid)","line":490,"definition":"sub","kind":12,"name":"getRoomNumberById","containerName":"main::","children":[{"name":"$roomid","kind":13,"definition":"my","line":492,"containerName":"getRoomNumberById","localvar":"my"},{"kind":13,"definition":"my","name":"$dbh","containerName":"getRoomNumberById","localvar":"my","line":495},{"name":"dbh","kind":12,"containerName":"getRoomNumberById","line":495},{"definition":"my","kind":13,"name":"$sth","localvar":"my","containerName":"getRoomNumberById","line":498},{"name":"$query","kind":13,"definition":"my","line":500,"localvar":"my","containerName":"getRoomNumberById"},{"name":"$sth","kind":13,"containerName":"getRoomNumberById","line":506},{"name":"$dbh","kind":13,"containerName":"getRoomNumberById","line":506},{"kind":12,"name":"prepare","containerName":"getRoomNumberById","line":506},{"kind":13,"name":"$query","line":506,"containerName":"getRoomNumberById"},{"name":"$sth","kind":13,"line":507,"containerName":"getRoomNumberById"},{"kind":12,"name":"execute","containerName":"getRoomNumberById","line":507},{"kind":13,"definition":"my","name":"@roomNumberFromId","line":509,"containerName":"getRoomNumberById","localvar":"my"},{"name":"$row","definition":"my","kind":13,"line":511,"containerName":"getRoomNumberById","localvar":"my"},{"kind":13,"name":"$sth","containerName":"getRoomNumberById","line":511},{"name":"fetchrow_hashref","kind":12,"line":511,"containerName":"getRoomNumberById"},{"containerName":"getRoomNumberById","line":512,"name":"@roomNumberFromId","kind":13},{"name":"$row","kind":13,"containerName":"getRoomNumberById","line":512},{"name":"@roomNumberFromId","kind":13,"line":515,"containerName":"getRoomNumberById"}],"range":{"start":{"character":0,"line":490},"end":{"line":516,"character":9999}},"signature":{"label":"getRoomNumberById($roomid)","parameters":[{"label":"$roomid"}],"documentation":""}},{"line":495,"containerName":"Context","name":"C4","kind":12},{"definition":"sub","kind":12,"name":"getAvailableRooms","line":518,"detail":"($start,$end,$capacity,$equipment)","containerName":"main::","children":[{"containerName":"getAvailableRooms","localvar":"my","line":520,"definition":"my","kind":13,"name":"$start"},{"line":520,"containerName":"getAvailableRooms","kind":13,"name":"$end"},{"containerName":"getAvailableRooms","line":520,"name":"$capacity","kind":13},{"name":"$equipment","kind":13,"containerName":"getAvailableRooms","line":520},{"localvar":"my","containerName":"getAvailableRooms","line":523,"definition":"my","kind":13,"name":"$dbh"},{"name":"dbh","kind":12,"line":523,"containerName":"getAvailableRooms"},{"name":"$sth","definition":"my","kind":13,"line":526,"containerName":"getAvailableRooms","localvar":"my"},{"line":528,"localvar":"my","containerName":"getAvailableRooms","kind":13,"definition":"my","name":"$query"},{"name":"$equipment","kind":13,"containerName":"getAvailableRooms","line":539},{"line":542,"containerName":"getAvailableRooms","localvar":"my","name":"$totalElements","kind":13,"definition":"my"},{"kind":13,"name":"$equipment","line":542,"containerName":"getAvailableRooms"},{"containerName":"getAvailableRooms","line":544,"kind":13,"name":"$query"},{"line":548,"containerName":"getAvailableRooms","localvar":"my","kind":13,"definition":"my","name":"$piece"},{"line":548,"containerName":"getAvailableRooms","name":"$equipment","kind":13},{"line":550,"containerName":"getAvailableRooms","name":"$totalElements","kind":13},{"name":"$query","kind":13,"line":552,"containerName":"getAvailableRooms"},{"line":555,"containerName":"getAvailableRooms","kind":13,"name":"$query"},{"name":"$totalElements","kind":13,"line":558,"containerName":"getAvailableRooms"}],"signature":{"label":"getAvailableRooms($start,$end,$capacity,$equipment)","parameters":[{"label":"$start"},{"label":"$end"},{"label":"$capacity"},{"label":"$equipment"}],"documentation":""},"range":{"end":{"line":560,"character":9999},"start":{"line":518,"character":0}}},{"kind":12,"name":"C4","line":523,"containerName":"Context"},{"line":562,"containerName":null,"name":"$query","kind":13},{"line":564,"containerName":null,"kind":13,"name":"$sth"},{"containerName":null,"line":564,"kind":13,"name":"$dbh"},{"name":"prepare","kind":12,"line":564,"containerName":"main::"},{"kind":13,"name":"$query","containerName":null,"line":564},{"name":"$sth","kind":13,"containerName":null,"line":565},{"containerName":"main::","line":565,"kind":12,"name":"execute"},{"containerName":null,"localvar":"my","line":567,"definition":"my","kind":13,"name":"@allAvailableRooms"},{"line":569,"localvar":"my","containerName":null,"name":"$row","kind":13,"definition":"my"},{"kind":13,"name":"$sth","line":569,"containerName":null},{"containerName":"main::","line":569,"name":"fetchrow_hashref","kind":12},{"name":"@allAvailableRooms","kind":13,"containerName":null,"line":570},{"line":570,"containerName":null,"kind":13,"name":"$row"},{"name":"@allAvailableRooms","kind":13,"line":573,"containerName":null},{"name":"loadAllMaxCapacities","kind":12,"definition":"sub","range":{"end":{"line":599,"character":9999},"start":{"line":576,"character":0}},"containerName":"main::","children":[{"line":579,"localvar":"my","containerName":"loadAllMaxCapacities","name":"$dbh","kind":13,"definition":"my"},{"containerName":"loadAllMaxCapacities","line":579,"name":"dbh","kind":12},{"definition":"my","kind":13,"name":"$sth","line":582,"containerName":"loadAllMaxCapacities","localvar":"my"},{"name":"$query","definition":"my","kind":13,"localvar":"my","containerName":"loadAllMaxCapacities","line":584},{"containerName":"loadAllMaxCapacities","line":589,"kind":13,"name":"$sth"},{"containerName":"loadAllMaxCapacities","line":589,"kind":13,"name":"$dbh"},{"name":"prepare","kind":12,"containerName":"loadAllMaxCapacities","line":589},{"containerName":"loadAllMaxCapacities","line":589,"kind":13,"name":"$query"},{"kind":13,"name":"$sth","containerName":"loadAllMaxCapacities","line":590},{"name":"execute","kind":12,"containerName":"loadAllMaxCapacities","line":590},{"name":"@allMaxCapacities","kind":13,"definition":"my","containerName":"loadAllMaxCapacities","localvar":"my","line":592},{"line":594,"localvar":"my","containerName":"loadAllMaxCapacities","name":"$row","kind":13,"definition":"my"},{"line":594,"containerName":"loadAllMaxCapacities","kind":13,"name":"$sth"},{"containerName":"loadAllMaxCapacities","line":594,"kind":12,"name":"fetchrow_hashref"},{"name":"@allMaxCapacities","kind":13,"line":595,"containerName":"loadAllMaxCapacities"},{"containerName":"loadAllMaxCapacities","line":595,"kind":13,"name":"$row"},{"line":598,"containerName":"loadAllMaxCapacities","name":"@allMaxCapacities","kind":13}],"line":576},{"kind":12,"name":"C4","line":579,"containerName":"Context"},{"line":601,"children":[{"line":604,"containerName":"loadAllEquipment","localvar":"my","name":"$dbh","kind":13,"definition":"my"},{"line":604,"containerName":"loadAllEquipment","kind":12,"name":"dbh"},{"localvar":"my","containerName":"loadAllEquipment","line":607,"kind":13,"definition":"my","name":"$sth"},{"definition":"my","kind":13,"name":"$query","containerName":"loadAllEquipment","localvar":"my","line":609},{"name":"$sth","kind":13,"containerName":"loadAllEquipment","line":614},{"name":"$dbh","kind":13,"line":614,"containerName":"loadAllEquipment"},{"containerName":"loadAllEquipment","line":614,"name":"prepare","kind":12},{"kind":13,"name":"$query","containerName":"loadAllEquipment","line":614},{"line":615,"containerName":"loadAllEquipment","kind":13,"name":"$sth"},{"line":615,"containerName":"loadAllEquipment","name":"execute","kind":12},{"name":"@allAvailableEquipmentNames","definition":"my","kind":13,"localvar":"my","containerName":"loadAllEquipment","line":617},{"line":619,"localvar":"my","containerName":"loadAllEquipment","kind":13,"definition":"my","name":"$row"},{"containerName":"loadAllEquipment","line":619,"name":"$sth","kind":13},{"containerName":"loadAllEquipment","line":619,"kind":12,"name":"fetchrow_hashref"},{"kind":13,"name":"@allAvailableEquipmentNames","containerName":"loadAllEquipment","line":620},{"name":"$row","kind":13,"line":620,"containerName":"loadAllEquipment"},{"kind":13,"name":"@allAvailableEquipmentNames","containerName":"loadAllEquipment","line":623}],"containerName":"main::","range":{"end":{"line":624,"character":9999},"start":{"character":0,"line":601}},"definition":"sub","kind":12,"name":"loadAllEquipment"},{"line":604,"containerName":"Context","kind":12,"name":"C4"},{"kind":12,"definition":"sub","name":"getCurrentTimestamp","containerName":"main::","children":[{"line":628,"localvar":"my","containerName":"getCurrentTimestamp","name":"$timestamp","definition":"my","kind":13},{"name":"$timestamp","kind":13,"line":630,"containerName":"getCurrentTimestamp"}],"line":626,"range":{"end":{"line":631,"character":9999},"start":{"character":0,"line":626}}},{"name":"strftime","kind":12,"line":628},{"name":"output_html_with_http_headers","kind":12,"line":633},{"containerName":null,"line":633,"name":"$cgi","kind":13},{"containerName":null,"line":633,"kind":13,"name":"$cookie"},{"line":633,"containerName":null,"name":"$template","kind":13},{"name":"output","kind":12,"containerName":"main::","line":633}],"version":5}